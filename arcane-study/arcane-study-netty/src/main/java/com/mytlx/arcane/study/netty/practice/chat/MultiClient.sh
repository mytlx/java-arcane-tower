#!/bin/bash

export LANG=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8
export LC_ALL=zh_CN.UTF-8

JAVA_HOME="/d/ProgramLanguage/Java/jdk-21.0.6"
CLASSPATH="E:\TLX\Documents\project\001_Java\java-arcane-tower\arcane-study\arcane-study-netty\target\classes;D:\BuildTools\Maven\repository\io\netty\netty-all\4.1.118.Final\netty-all-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-buffer\4.1.118.Final\netty-buffer-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec\4.1.118.Final\netty-codec-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-dns\4.1.118.Final\netty-codec-dns-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-haproxy\4.1.118.Final\netty-codec-haproxy-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-http\4.1.118.Final\netty-codec-http-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-http2\4.1.118.Final\netty-codec-http2-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-memcache\4.1.118.Final\netty-codec-memcache-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-mqtt\4.1.118.Final\netty-codec-mqtt-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-redis\4.1.118.Final\netty-codec-redis-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-smtp\4.1.118.Final\netty-codec-smtp-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-socks\4.1.118.Final\netty-codec-socks-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-stomp\4.1.118.Final\netty-codec-stomp-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-codec-xml\4.1.118.Final\netty-codec-xml-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-common\4.1.118.Final\netty-common-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-handler\4.1.118.Final\netty-handler-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-native-unix-common\4.1.118.Final\netty-transport-native-unix-common-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-handler-proxy\4.1.118.Final\netty-handler-proxy-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-handler-ssl-ocsp\4.1.118.Final\netty-handler-ssl-ocsp-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-resolver\4.1.118.Final\netty-resolver-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-resolver-dns\4.1.118.Final\netty-resolver-dns-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport\4.1.118.Final\netty-transport-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-rxtx\4.1.118.Final\netty-transport-rxtx-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-sctp\4.1.118.Final\netty-transport-sctp-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-udt\4.1.118.Final\netty-transport-udt-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-classes-epoll\4.1.118.Final\netty-transport-classes-epoll-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-classes-kqueue\4.1.118.Final\netty-transport-classes-kqueue-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-resolver-dns-classes-macos\4.1.118.Final\netty-resolver-dns-classes-macos-4.1.118.Final.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-native-epoll\4.1.118.Final\netty-transport-native-epoll-4.1.118.Final-linux-x86_64.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-native-epoll\4.1.118.Final\netty-transport-native-epoll-4.1.118.Final-linux-aarch_64.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-native-epoll\4.1.118.Final\netty-transport-native-epoll-4.1.118.Final-linux-riscv64.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-native-kqueue\4.1.118.Final\netty-transport-native-kqueue-4.1.118.Final-osx-x86_64.jar;D:\BuildTools\Maven\repository\io\netty\netty-transport-native-kqueue\4.1.118.Final\netty-transport-native-kqueue-4.1.118.Final-osx-aarch_64.jar;D:\BuildTools\Maven\repository\io\netty\netty-resolver-dns-native-macos\4.1.118.Final\netty-resolver-dns-native-macos-4.1.118.Final-osx-x86_64.jar;D:\BuildTools\Maven\repository\io\netty\netty-resolver-dns-native-macos\4.1.118.Final\netty-resolver-dns-native-macos-4.1.118.Final-osx-aarch_64.jar;D:\BuildTools\Maven\repository\org\yaml\snakeyaml\2.3\snakeyaml-2.3.jar;E:\TLX\Documents\project\001_Java\java-arcane-tower\arcane-utils\target\classes;D:\BuildTools\Maven\repository\com\google\code\gson\gson\2.11.0\gson-2.11.0.jar;D:\BuildTools\Maven\repository\com\google\errorprone\error_prone_annotations\2.27.0\error_prone_annotations-2.27.0.jar;D:\BuildTools\Maven\repository\org\apache\commons\commons-lang3\3.17.0\commons-lang3-3.17.0.jar;D:\BuildTools\Maven\repository\org\projectlombok\lombok\1.18.36\lombok-1.18.36.jar;D:\BuildTools\Maven\repository\ch\qos\logback\logback-classic\1.5.16\logback-classic-1.5.16.jar;D:\BuildTools\Maven\repository\ch\qos\logback\logback-core\1.5.16\logback-core-1.5.16.jar;D:\BuildTools\Maven\repository\org\slf4j\slf4j-api\2.0.16\slf4j-api-2.0.16.jar"
JAVA_MAIN="com.mytlx.arcane.study.netty.practice.chat.client.ChatClient"

# 定义用户名和密码数组
clients=( "zhangsan:123" "lisi:123" "wangwu:123" "zhaoliu:123" )

for client in "${clients[@]}"
do
    IFS=":" read -r username password <<< "$client"
    # 使用 start 打开新终端窗口
#    start "$username" "$JAVA_HOME/bin/java" -classpath "$CLASSPATH" com.mytlx.arcane.study.netty.practice.chat.client.ChatClient "$username" "$password"
    # 使用 mintty 开新窗口运行
    mintty -t "$username" /usr/bin/env MSYSTEM=MINGW64 CHERE_INVOKING=1 \
        bash -lc "java -Dfile.encoding=UTF-8 -cp '$CLASSPATH' $JAVA_MAIN $username $password;"
done
