# Job Schedule
任务调度系统。


任务调度系统是企业后台常见的基础服务平台，主要用于：

* **自动定时执行各种业务任务**，比如数据同步、统计报表、发送通知、清理缓存等，减少人工干预；
* 支持**灵活配置任务执行时间和频率**，用标准的 Cron 表达式控制执行计划；
* 任务状态可监控，**任务失败可重试、日志可追踪**，保障任务的可靠性；
* 提供任务的**手动触发和管理接口**，方便运维和开发调试；
* 作为**平台内部任务统一管理中心**，提升系统的可维护性和扩展性。

---

## 二、具体需求（功能点）

### 1. 用户模块（简单）

* 用户登录，使用 JWT 认证（方便接口安全访问）

### 2. 任务管理模块

* 任务的增删改查接口
* 支持任务启用/禁用状态管理
* 任务需包含名称、cron表达式、执行内容描述

### 3. 调度模块

* 使用 Quartz 框架调度任务
* 系统启动时加载所有启用的任务并开始调度
* 任务执行时，调用预定义的任务执行逻辑（示例：打印日志）

### 4. 任务执行日志模块

* 记录每次任务执行的开始时间、结束时间、执行结果（成功/失败）、执行日志或异常信息
* 支持查询任务的执行历史记录

### 5. 手动触发任务接口

* 提供接口手动触发某个任务的执行，方便紧急处理或测试

### 6. 失败重试机制（基础版）

* 任务失败时自动重试一定次数（可配置）

### 7. API文档

* 使用 Swagger 生成接口文档，方便测试和演示

---

## 三、系统边界和非功能需求

* 不涉及复杂分布式调度，单机即可运行
* 任务执行内容示例以“日志打印”为主，后期可扩展调用具体业务接口
* 系统安全通过简单的 JWT 认证保障
* 支持 MySQL 存储任务信息和执行日志
* 界面可无或简单（主要接口和文档为主）

---

## 四、举个简单场景说明

> 公司需要每天凌晨1点自动清理一次缓存，或者每小时统计一下业务数据，过去都是运维手工操作，现在通过这个系统配置任务，任务会按照预设时间自动运行，执行结果有日志可查，执行失败会自动重试，出现异常可手动触发重新执行。

---

## 五、总结

你开发的“简易任务调度系统”，主要是为了练习和展示：

* 定时任务的基本实现与管理
* 任务的增删改查和状态控制
* 任务执行日志管理和异常处理
* 基础安全认证（JWT）
* REST API 设计和接口文档编写

---

这就是你项目的**核心价值和需求点**，开发时围绕这些去写就不会偏。

---

如果你同意，我可以直接帮你写第一步项目初始化和简单的任务调度示例代码，怎么样？

很好，下面是为你量身定制的 **“简易任务调度系统”项目计划**，目标是 **4 周完成一个能讲、能展示、能写进简历的项目**。

---

## ✅ 项目名称（建议）：`JobPilot` / `TaskTower` / `schedule-lite`

---

## 🧱 项目总功能概览（最小可交付版本 - MVP）

| 模块         | 功能描述                     |
| ---------- | ------------------------ |
| 用户模块       | 简单登录，使用 JWT 实现接口鉴权       |
| 任务管理模块     | 创建、修改、启停任务，支持 cron 表达式调度 |
| 调度中心模块     | 使用 Quartz 实现任务调度         |
| 执行日志模块     | 记录任务执行时间、结果、耗时、异常等       |
| 手动触发模块     | 用户可手动触发任务立即执行            |
| Swagger 文档 | 提供完整的 API 文档，便于调试展示      |

---

## 🗓️ 四周开发计划（可微调）

### ✅ 第 1 周：项目初始化 + 用户鉴权模块

* [ ] 创建 Spring Boot 项目（推荐使用 `spring initializr`）
* [ ] 集成 JWT 登录鉴权（可直接使用静态用户或从数据库读）
* [ ] 配置 Swagger + 全局异常处理
* [ ] 项目结构梳理：模块划分、包路径规划
* [ ] 熟悉 Quartz 定时器基本用法（写一个 HelloJob）

### ✅ 第 2 周：任务管理模块 + 基础调度实现

* [ ] 任务实体设计（任务名称、cron 表达式、状态等）
* [ ] 接口实现：创建、修改、删除、启停任务
* [ ] 将任务持久化到 MySQL
* [ ] 使用 Quartz 启动时加载任务列表
* [ ] 将任务注册到 Quartz 的 Scheduler 中

### ✅ 第 3 周：任务执行日志 + 手动触发 + 重试机制

* [ ] 每次任务执行记录到 MySQL
* [ ] 失败重试机制（简单版：重试 N 次）
* [ ] 手动触发某个任务的接口
* [ ] Redis 加锁防止并发重复触发

### ✅ 第 4 周：优化 + 简历准备 + 项目文档

* [ ] Swagger 接口完善 + 项目 README 编写
* [ ] 回顾所有代码，打磨结构与注释
* [ ] 准备简历中的项目描述
* [ ] 编写项目讲解稿（用于面试自述）
* [ ] （可选）增加 Web 控制台界面（Vue 端）

---

## 📂 推荐项目结构

```
com.example.scheduler
├── common                # 通用工具类、异常、响应封装
├── config                # Spring 和 Quartz 配置类
├── controller            # REST 接口控制器
├── dto                   # 请求/响应对象
├── entity                # 数据库实体
├── job                   # Job 执行逻辑
├── repository            # 数据访问层
├── security              # JWT 安全模块
├── service               # 业务服务层
└── SchedulerApplication.java
```

---

## 📌 技术重点建议

| 模块      | 技术点建议                               |
| ------- | ----------------------------------- |
| Quartz  | Job + Trigger + Scheduler，动态注册、暂停任务 |
| JWT     | 使用 `jjwt` 实现，简单用户认证                 |
| MySQL   | 任务信息、日志持久化                          |
| Redis   | 锁机制避免重复执行，可扩展为分布式锁                  |
| Swagger | 使用 `springdoc-openapi`，生成 API 文档    |
| 异常处理    | 自定义异常类 + 全局异常捕获                     |

---

## 🧠 项目讲解要点（提前准备面试自述）

> “我个人独立实现了一个简易任务调度平台，基于 Spring Boot + Quartz，实现了定时任务的创建、调度、失败重试、日志记录等功能。任务信息持久化到 MySQL，系统支持手动触发任务执行，同时通过 Redis 实现任务执行互斥锁，避免并发重复触发。项目主要练习了中后台业务系统中较常见的调度、异常处理、权限认证等后端核心模块。”

